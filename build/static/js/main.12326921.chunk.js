(this["webpackJsonpapp-food"]=this["webpackJsonpapp-food"]||[]).push([[0],{170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},208:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(24),r=a.n(i),s=(a(170),a(8)),o=(a(171),a(33)),l=(a(172),a(1)),d=function(e){e.user;var t=e.data,a=e.isOpen,n=e.open;return Object(l.jsx)("div",{id:"header",style:a||n?{backgroundColor:"rgba(91, 233, 202, 0.15)"}:{backgroundColor:"#CA748B"},children:Object(l.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-around",alignItems:"center"},children:[Object(l.jsxs)(o.b,{to:"/",children:[" ",Object(l.jsx)("div",{style:a||n?{color:"black",fontSize:"18px"}:{color:"#94C571",fontSize:"18px"},children:"LUNCH TIME"})]}),t&&!0===t.admin&&Object(l.jsxs)(o.b,{to:"/admin-menu",children:[" ",Object(l.jsx)("div",{style:a||n?{color:"black",fontSize:"18px"}:{color:"#94C571",fontSize:"18px"},children:"admin menu"})]}),t&&!0===t.admin&&Object(l.jsxs)(o.b,{to:"/orders",children:[" ",Object(l.jsx)("div",{style:a||n?{color:"black",fontSize:"18px"}:{color:"#94C571",fontSize:"18px"},children:"Orders"})]}),t&&!0===t.admin&&Object(l.jsxs)(o.b,{to:"/costs",children:[" ",Object(l.jsx)("div",{style:a||n?{color:"black",fontSize:"18px"}:{color:"#94C571",fontSize:"18px"},children:"Costs"})]}),t&&!0===t.admin&&Object(l.jsx)(o.b,{to:"/users",children:Object(l.jsx)("div",{style:a||n?{color:"black",fontSize:"18px"}:{color:"#94C571",fontSize:"18px"},children:"Users"})})]})})},j=a(118),u=a.n(j),b=a(137),p=a(18),h=a(248),f=a(249),x=a(269),O=a(12),m=a(17),g=a.n(m),v=a(268),y=a(272),k=a(270),A=(a(185),function(e){var t=e.cutleryCheck,a=e.setCutleryCheck,n=e.setCutlery,c=e.setCheckForm;return Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{children:"\u0423\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u0438\u0431\u043e\u0440\u044b"}),Object(l.jsx)(k.a,{style:{color:"#94C571"},onChange:function(){a(!t),t?(n(""),c(!0)):(n("\u0431\u0435\u0437 \u043f\u0440\u0438\u0431\u043e\u0440\u043e\u0432"),c(!0))}})]})}),C=(a(186),function(e){var t=e.breadCheck,a=e.setBreadCheck,n=e.setBread,c=e.setCheckForm;return Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{children:"\u0423\u0431\u0440\u0430\u0442\u044c \u0445\u043b\u0435\u0431"}),Object(l.jsx)(k.a,{style:{color:"#94C571"},onChange:function(){a(!t),t?(c(!0),n("")):(c(!0),n("\u0431\u0435\u0437 \u0445\u043b\u0435\u0431\u0430"))}})]})});function w(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)"),border:"none",width:"250px"}}function S(e){return Object(l.jsx)(v.a,Object(p.a)({elevation:6,variant:"filled"},e))}var N=Object(h.a)((function(e){return{paper:{position:"absolute",width:"75%",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},footer:{display:"flex",justifyContent:"space-between",flexDirection:"column",alignItems:"center",margin:"20px 0 0"},ulStyles:{paddingLeft:0,overflow:"auto",maxHeight:300},choiseFood:{marginTop:"1%",display:"flex",justifyContent:"space-between",padding:"5px",borderRadius:"5px"},switchButton:{display:"flex",justifycontent:"space-around",flexDirection:"row",width:"100%"},snackBar:{display:"flex",alignItems:"flex-start",top:"45px",bottom:0}}})),D=function(e){var t=e.isOpen,a=e.setIsOpen,c=e.selected,i=e.selectedPrice,r=e.setSelected,o=e.setPriceArr,d=e.user,j=e.data,p=e.counter,h=N(),m=Object(n.useState)(w),v=Object(s.a)(m,1)[0],k=Object(n.useState)(),D=Object(s.a)(k,2),Y=D[0],P=D[1],M=Object(n.useState)(),I=Object(s.a)(M,2),T=I[0],B=I[1],E=Object(n.useState)(!0),F=Object(s.a)(E,2),z=F[0],W=F[1],R=Object(n.useState)(!1),U=Object(s.a)(R,2),H=U[0],L=U[1],J=Object(n.useState)(!1),K=Object(s.a)(J,2),G=K[0],q=K[1],V=Object(n.useState)(""),X=Object(s.a)(V,2),Z=X[0],Q=X[1],$=Object(n.useState)(!1),_=Object(s.a)($,2),ee=_[0],te=_[1],ae=Object(n.useState)(""),ne=Object(s.a)(ae,2),ce=ne[0],ie=ne[1],re=Object(n.useState)(!0),se=Object(s.a)(re,2),oe=se[0],le=se[1],de=Object(n.useState)(),je=Object(s.a)(de,2),ue=je[0],be=je[1],pe=g()(new Date).format("DD-MM-YYYY HH:mm:ss");Object(n.useEffect)((function(){O.a.database().ref("/menu").on("value",(function(e){var t=e.val(),a=Object.keys(t).map((function(e){return t[e]})),n=[];Object.keys(a).map((function(e){return pe<a[e].activeTo&&pe>a[e].activeFrom&&n.push(a[e]),a[e]})),be(n[0].activeFrom)}))}),[pe]);var he=function(e){var t=g()(new Date).format("YYYY-MM-DD HH:mm:ss");g()(t).format("HH:mm:ss")>ue&&g()(t).format("HH:mm:ss")<"23:59:59"?O.a.database().ref("/orders/history/".concat(d.uid)).push({id:p,idOrder:e,name:j.name,checkPaid:!1,office:j.office,date:g()(t).add(1,"day").format("YYYY-MM-DD"),time:(new Date).toLocaleTimeString(),selected:Y,selectedPrice:T.reduce((function(e,t){return e+t}),0)}).then((function(e){var t=e.key;O.a.database().ref("counter/").update({i:++p}),O.a.database().ref("orders/history/".concat(d.uid,"/").concat(t)).update({ind:t})})):O.a.database().ref("/orders/history/".concat(d.uid)).push({id:p,idOrder:e,name:j.name,checkPaid:!1,office:j.office,date:g()(t).format("YYYY-MM-DD"),time:(new Date).toLocaleTimeString(),selected:Y,selectedPrice:T.reduce((function(e,t){return e+t}),0)}).then((function(e){var t=e.key;O.a.database().ref("counter/").update({i:++p}),O.a.database().ref("orders/history/".concat(d.uid,"/").concat(t)).update({ind:t})}))},fe=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O.a.database().ref("/orders/".concat(j.office)),e.next=3,t.push(Y.map((function(e,t){return{name:e,id:p}}))).then((function(e){var t=e.key;he(t)}));case 3:O.a.database().ref("/orders/sum").push(T.reduce((function(e,t){return e+t}),0)).then((function(e){a(!1)})),L(!0),o([]),r([]),le(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(e,t){"clickaway"!==t&&L(!1)},Oe=Object(l.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault(),W(!0);var t=new FormData(e.target),a=[],n=[];for(var r in c){for(var s=t.get(c[r]),o=0;o<s;o++)a.push("".concat(c[r]," ").concat(Z," ").concat(ce)),n.push(i[r]);P(a),B(n),le(!1)}}(e)},children:Object(l.jsxs)("div",{style:v,className:h.paper,children:[Object(l.jsx)("h2",{id:"simple-modal-title",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437?"}),Object(l.jsx)("ul",{className:h.ulStyles,children:c.length?null===c||void 0===c?void 0:c.map((function(e,t){return Object(l.jsxs)("li",{className:h.choiseFood,children:[Object(l.jsx)("span",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:e}),Object(l.jsxs)("select",{onChange:function(){return le(!0)},name:e,style:{select:"focus",textarea:"focus",input:"focus",fontSize:"16px",height:"10%"},children:[Object(l.jsx)("option",{value:"1",children:"1"}),Object(l.jsx)("option",{value:"2",children:"2"}),Object(l.jsx)("option",{value:"3",children:"3"}),Object(l.jsx)("option",{value:"4",children:"4"}),Object(l.jsx)("option",{value:"5",children:"5"}),Object(l.jsx)("option",{value:"6",children:"6"})]})]},"selected-".concat(t))})):Object(l.jsx)("li",{children:"\u041d\u0418\u0427\u0415\u0413\u041e"})}),Object(l.jsxs)("div",{className:h.switchButton,children:[Object(l.jsx)(A,{cutleryCheck:G,setCutleryCheck:q,setCutlery:Q,setCheckForm:le}),Object(l.jsx)(C,{breadCheck:ee,setBreadCheck:te,bread:ce,setBread:ie,setCheckForm:le})]}),Object(l.jsx)("footer",{className:h.footer,children:oe?Object(l.jsx)(f.a,{style:{width:"35%",fontSize:"10px",backgroundColor:"#94C571"},type:"submit",variant:"contained",color:"primary",children:"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c"}):c.length&&z&&Object(l.jsxs)(l.Fragment,{children:["\u0421\u0443\u043c\u043c\u0430:",T&&T.reduce((function(e,t){return e+t}),0),Object(l.jsx)(f.a,{style:{width:"35%",fontSize:"10px",backgroundColor:"#94C571"},onClick:function(){return fe()},variant:"contained",color:"primary",children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"})]})})]})});return Object(l.jsxs)("div",{children:[Object(l.jsx)(y.a,{className:h.snackBar,open:H,autoHideDuration:4500,onClose:xe,children:Object(l.jsxs)(S,{onClose:xe,severity:"success",children:["\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u043a\u0430\u0437\u0430 ",p-1]})}),Object(l.jsx)(x.a,{open:t,onClose:function(e){a(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Oe})]})},Y=a(252),P=a(150),M=a(251),I=Object(h.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center",position:"fixed",left:0,right:0,top:0,bottom:0}}}));function T(){var e=I();return Object(l.jsx)("div",{className:e.root,children:Object(l.jsx)(M.a,{style:{color:"#94C571"}})})}var B=Object(h.a)((function(e){return{block:{display:"flex",alignItems:"center",justifyContent:"space-around",width:"100%",margin:"10px 5px",padding:"10px 0",borderRadius:"10px",overflow:"hidden"},descriptBlock:{width:"40%",display:"flex",flexDirection:"column",alignItems:"flex-end"},descript:{width:"100%",margin:0,fontSize:"16px",textAlign:"end",overflow:"scroll"},mainBlock:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"30px",position:"fixed",height:"100%"},menuBlock:{display:"flex",width:"85%",height:"100%",overflow:"scroll",flexDirection:"row",alignItems:"center",flexWrap:"wrap",justifyContent:"space-around",marginBottom:"15px",marginTop:"12px"}}})),E=function(e){var t=e.user,a=e.data,c=e.isData,i=e.isOpen,r=e.setIsOpen,o=e.open,d=Object(n.useState)([]),j=Object(s.a)(d,2),u=j[0],b=j[1],p=Object(n.useState)([]),x=Object(s.a)(p,2),m=x[0],v=x[1],y=Object(n.useState)(),k=Object(s.a)(y,2),A=k[0],C=k[1],w=Object(n.useState)(),S=Object(s.a)(w,2),N=S[0],M=S[1],I=Object(n.useState)(),E=Object(s.a)(I,2),F=E[0],z=E[1],W=Object(n.useState)(),R=Object(s.a)(W,2),U=R[0],H=R[1],L=B();Object(n.useEffect)((function(){O.a.database().ref("day/i").on("value",(function(e){var t=e.val();M(t),O.a.database().ref("menu/").on("value",(function(e){var a=e.val();H(a[t])})),O.a.database().ref("block/").on("value",(function(e){var t=e.val();C(t.i)})),O.a.database().ref("counter/").on("value",(function(e){var t=e.val();z(t.i)}))}))}),[N]);var J=Object(h.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:"black"}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),K=function(){var e=J(),t=Object(n.useState)(""),c=Object(s.a)(t,2),i=c[0],r=c[1],o=g()(new Date).format("DD-MM-YYYY HH:mm:ss");return Object(n.useEffect)((function(){O.a.database().ref("day/i").on("value",(function(e){var t=e.val();r(t)})),O.a.database().ref("/menu").on("value",(function(e){var t=e.val(),a=Object.keys(t).map((function(e){return t[e]})),n=[];(Object.keys(a).map((function(e){return o<a[e].activeTo&&o>a[e].activeFrom&&n.push(a[e]),a[e]})),n.length)?O.a.database().ref("/block").update({i:!0}):O.a.database().ref("/block").update({i:!1})}))}),[o]),Object(l.jsx)(Y.a,{children:Object(l.jsxs)(P.a,{style:{display:"flex",flexFlow:"column"},className:e.title,variant:"h6",id:"tableTitle",component:"div",children:[Object(l.jsx)("span",{style:{color:"#94C571",fontFamily:"Roboto",marginTop:"10px"},children:("monday"===i?" \u041f\u041e\u041d\u0415\u0414\u0415\u041b\u042c\u041d\u0418\u041a":"tuesday"===i&&" \u0412\u0422\u041e\u0420\u041d\u0418\u041a")||"wednesday"===i&&" \u0421\u0420\u0415\u0414\u0410"||"thursday"===i&&" \u0427\u0415\u0422\u0412\u0415\u0420\u0413"||"friday"===i&&" \u041f\u042f\u0422\u041d\u0418\u0426\u0410"}),a&&!0===a.admin&&Object(l.jsx)("div",{style:{height:"10px"},children:Object(l.jsxs)("select",{style:{select:"focus",textarea:"focus",input:"focus",fontSize:"16px"},onChange:function(e){var t;r(e.target.value),t=e.target.value,O.a.database().ref("/day").update({i:t})},name:"select",value:i,children:[Object(l.jsx)("option",{value:"monday",children:"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a"}),Object(l.jsx)("option",{value:"tuesday",children:"\u0412\u0442\u043e\u0440\u043d\u0438\u043a"}),Object(l.jsx)("option",{value:"wednesday",children:"\u0421\u0440\u0435\u0434\u0430"}),Object(l.jsx)("option",{value:"thursday",children:"\u0427\u0435\u0442\u0432\u0435\u0440\u0433"}),Object(l.jsx)("option",{value:"friday",children:"\u041f\u044f\u0442\u043d\u0438\u0446\u0430"})]})}),A?Object(l.jsx)(l.Fragment,{}):Object(l.jsx)("span",{className:"time-is-over",style:{marginTop:"15px"},children:"\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u0448\u043b\u043e, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u0430\u0432\u0442\u0440\u0430 \u0434\u043e 9-30 \u0443\u0442\u0440\u0430"})]})})};return Object(l.jsxs)("div",{className:L.mainBlock,children:[c?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{style:{marginTop:"15px"},children:Object(l.jsx)(K,{numSelected:u.length,block:A})}),Object(l.jsx)("p",{children:"version: 1.02"}),Object(l.jsx)("div",{className:L.menuBlock,children:U&&U.selected.map((function(e,t){return Object(l.jsxs)("div",{className:L.block,style:{boxShadow:u.includes(e.name)&&"0px 0px 10px 5px #EEEEEE",border:u.includes(e.name)&&"1px solid rgba(148, 197, 113, 0.5)"},onClick:function(){return function(e,t){var a=u.indexOf(e),n=[],c=[];-1===a?(n=n.concat(u,e),c=c.concat(m,t)):0===a?(n=n.concat(u.slice(1)),c=c.concat(m.slice(1))):a===u.length-1?(n=n.concat(u.slice(0,-1)),c=c.concat(m.slice(0,-1))):a>0&&(n=n.concat(u.slice(0,a),u.slice(a+1)),c=c.concat(m.slice(0,a),m.slice(a+1))),b([]),v([]),b(n),v(c)}(e.name,e.price)},children:[Object(l.jsx)("div",{style:{width:"40%"},children:Object(l.jsx)("img",{src:e.img,alt:"logo"})}),Object(l.jsx)("div",{className:L.descriptBlock,children:Object(l.jsxs)("div",{style:{marginRight:"10px",width:"100%"},children:[Object(l.jsx)("p",{className:L.descript,children:e.name}),Object(l.jsxs)("p",{className:L.descript,children:[e.gr," \u0433\u0440\u0430\u043c\u043c"]}),Object(l.jsxs)("p",{className:L.descript,children:[e.cal," \u043a\u043a\u0430\u043b"]}),Object(l.jsxs)("p",{className:L.descript,children:[e.price," \u0440\u0443\u0431\u043b\u0435\u0439"]})]})})]},"data1-".concat(t))}))}),Object(l.jsx)("div",{style:{marginBottom:"15%"},children:A?Object(l.jsx)(f.a,{style:i||o?{backgroundColor:"#CA748B",marginBottom:"50px"}:{backgroundColor:"#94C571",marginBottom:"50px"},onClick:function(){A&&r(!0)},variant:"contained",color:"primary",children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"}):Object(l.jsx)(f.a,{style:{marginBottom:"50px"},variant:"contained",disabled:!0,children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"})})]}):Object(l.jsx)(T,{}),Object(l.jsx)(D,{isOpen:i,setIsOpen:r,selected:u,selectedPrice:m,setSelected:b,setPriceArr:v,user:t,data:a,counter:F})]})},F=a(21),z=a(38),W=a.n(z),R=a(253),U=a(275),H=a(254),L=(Object(p.a)(Object(p.a)({},{paddingRight:"15px",paddingLeft:"15px",marginRight:"auto",marginLeft:"auto",width:"100%"}),{},{"@media (min-width: 576px)":{maxWidth:"540px"},"@media (min-width: 768px)":{maxWidth:"720px"},"@media (min-width: 992px)":{maxWidth:"960px"},"@media (min-width: 1200px)":{maxWidth:"1140px"}}),{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"}),J="#f44336",K="#4caf50",G=(Object(p.a)({color:"#fff",background:"linear-gradient(60deg, #ffa726, #fb8c00)"},{boxShadow:"0 12px 20px -10px rgba(255, 152, 0, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(255, 152, 0, 0.2)"}),Object(p.a)({color:"#fff",background:"linear-gradient(60deg, #66bb6a, #43a047)"},{boxShadow:"0 12px 20px -10px rgba(76, 175, 80, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(76, 175, 80, 0.2)"}),Object(p.a)({color:"#fff",background:"linear-gradient(60deg, #ef5350, #e53935)"},{boxShadow:"0 12px 20px -10px rgba(244, 67, 54, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(244, 67, 54, 0.2)"}),Object(p.a)({color:"#fff",background:"linear-gradient(60deg, #26c6da, #00acc1)"},{boxShadow:"0 12px 20px -10px rgba(0, 188, 212, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(0, 188, 212, 0.2)"}),Object(p.a)({color:"#fff",background:"linear-gradient(60deg, #ab47bc, #8e24aa)"},{boxShadow:"0 12px 20px -10px rgba(156, 39, 176, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(156, 39, 176, 0.2)"}),Object(p.a)({color:"#fff",background:"linear-gradient(60deg, #ec407a, #d81b60)"},{boxShadow:"0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 10px -5px rgba(233, 30, 99, 0.4)"}),Object(p.a)({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid #eeeeee",height:"auto"},L),Object(p.a)(Object(p.a)({},{color:"#3C4858",margin:"1.75rem 0 0.875rem",textDecoration:"none",fontWeight:"700",fontFamily:'"Roboto Slab", "Times New Roman", serif'}),{},{marginTop:".625rem"}),{disabled:{"&:before":{borderColor:"transparent !important"}},underline:{"&:hover:not($disabled):before,&:before":{borderColor:"#D2D2D2 !important",borderWidth:"1px !important"},"&:after":{borderColor:"#a7ce3b"}},underlineError:{"&:after":{borderColor:J}},underlineSuccess:{"&:after":{borderColor:K}},whiteUnderline:{"&:hover:not($disabled):before,&:before":{borderColor:"#FFFFFF"},"&:after":{borderColor:"#FFFFFF"}},labelRoot:Object(p.a)(Object(p.a)({},L),{},{color:"#AAAAAA !important",fontWeight:"400",fontSize:"14px",lineHeight:"1.42857",top:"10px",letterSpacing:"unset","& + $underline":{marginTop:"0px"}}),labelRootError:{color:"#f44336 !important"},labelRootSuccess:{color:"#4caf50 !important"},formControl:{margin:"0 0 17px 0",paddingTop:"27px",position:"relative","& svg,& .fab,& .far,& .fal,& .fas,& .material-icons":{color:"#495057"}},input:{color:"#495057",height:"unset","&,&::placeholder":{fontSize:"14px",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"400",lineHeight:"1.42857",opacity:"1"},"&::placeholder":{color:"#AAAAAA"}},whiteInput:{"&,&::placeholder":{color:"#FFFFFF",opacity:"1"}}}),q=Object(h.a)(G),V=function(e){var t,a,n,c,i=q(),r=e.formControlProps,s=e.labelText,o=e.id,d=e.labelProps,j=e.inputProps,u=e.error,b=e.white,h=e.inputRootCustomClasses,f=e.success,x=e.handleChange,O=e.type,m=W()((t={},Object(F.a)(t," "+i.labelRootError,u),Object(F.a)(t," "+i.labelRootSuccess,f&&!u),t)),g=W()((a={},Object(F.a)(a,i.underlineError,u),Object(F.a)(a,i.underlineSuccess,f&&!u),Object(F.a)(a,i.underline,!0),Object(F.a)(a,i.whiteUnderline,b),a)),v=W()(Object(F.a)({},h,void 0!==h)),y=W()((n={},Object(F.a)(n,i.input,!0),Object(F.a)(n,i.whiteInput,b),n));return c=void 0!==r?W()(r.className,i.formControl):i.formControl,Object(l.jsxs)(R.a,Object(p.a)(Object(p.a)({},r),{},{className:c,children:[void 0!==s?Object(l.jsx)(U.a,Object(p.a)(Object(p.a)({className:i.labelRoot+" "+m,htmlFor:o},d),{},{children:s})):null,Object(l.jsx)(H.a,Object(p.a)(Object(p.a)({classes:{input:y,root:v,disabled:i.disabled,underline:g},id:o,onChange:x},j),{},{type:O}))]}))};O.a.initializeApp({apiKey:"AIzaSyDiNxErJK9x3dmyAR1PNyj0CgZUaLfpADI",authDomain:"eat-project-2ad0f.firebaseapp.com",projectId:"eat-project-2ad0f",storageBucket:"eat-project-2ad0f.appspot.com",messagingSenderId:"436855418692",databaseURL:"https://eat-project-2ad0f-default-rtdb.firebaseio.com/",appId:"1:436855418692:web:08dd2a9d482f66526f3111",measurementId:"G-TV0SQREMCD"}),O.a.analytics();O.a.firestore();var X=O.a.auth(),Z=O.a.storage(),Q=a(30),$=Object(h.a)((function(e){return{paper:{position:"absolute",width:"40%",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),transform:"translate(-50%, -50%)",top:"50%",left:"50%"}}})),_=function(){var e=Object(Q.g)(),t=$(),a=Object(n.useState)(""),c=Object(s.a)(a,2),i=c[0],r=c[1],o=Object(n.useState)(""),d=Object(s.a)(o,2),j=d[0],u=d[1],b=Object(n.useState)(""),p=Object(s.a)(b,2),h=p[0],x=p[1];return Object(l.jsx)("div",{className:t.paper,children:Object(l.jsxs)("form",{style:{display:"flex",flexDirection:"column",alignItems:"center"},className:"form",children:[Object(l.jsx)(V,{labelText:"Email",value:i,id:"email",formControlProps:{fullWidth:!0},handleChange:function(e){return r(e.target.value)},type:"text"}),Object(l.jsx)(V,{labelText:"Password",id:"password",value:h,formControlProps:{fullWidth:!0},handleChange:function(e){return x(e.target.value)},type:"password"}),j&&Object(l.jsx)("span",{style:{color:"red"},children:j}),Object(l.jsx)(f.a,{onClick:function(t){t.preventDefault(),X.signInWithEmailAndPassword(i,h).then((function(t){e.push("/")})).catch((function(e){u(e.message)}))},type:"button",color:"primary",children:"Log in"}),Object(l.jsx)("span",{onClick:function(){X.signOut().then((function(e){})).catch((function(e){}))},children:"exit"}),Object(l.jsx)(f.a,{onClick:function(t){e.push("/forgotPassword")},type:"button",color:"primary",children:"forgot password"})]})})},ee=Object(h.a)((function(e){return{paper:{position:"absolute",width:"40%",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),transform:"translate(-50%, -50%)",top:"50%",left:"50%"},input:{border:"3px black solid"}}})),te=function(){var e=Object(Q.g)(),t=ee(),a=Object(n.useState)("denneg@yandex.ru"),c=Object(s.a)(a,2),i=c[0],r=c[1],o=Object(n.useState)("123123123123"),d=Object(s.a)(o,2),j=d[0],u=d[1],b=Object(n.useState)(""),p=Object(s.a)(b,2),h=p[0],x=p[1],m=Object(n.useState)(""),g=Object(s.a)(m,2),v=g[0],y=g[1],k=Object(n.useState)(""),A=Object(s.a)(k,2),C=A[0],w=A[1],S=Object(n.useState)("grech"),N=Object(s.a)(S,2),D=N[0],Y=N[1],P=function(t){t.preventDefault(),h&&C&&D&&i&&X.createUserWithEmailAndPassword(i,j).then((function(t){var a;a=t.user.uid,O.a.database().ref("/users/".concat(a)).update({name:h,lastName:C,email:i,uid:a,office:D}),e.push("/")})).catch((function(e){y(e.message)}))},M=Object(l.jsx)("div",{className:t.paper,children:Object(l.jsxs)("form",{className:"form",onSubmit:function(e){return P(e)},children:[Object(l.jsx)(V,{labelText:"Email",value:i,id:"email",formControlProps:{fullWidth:!0},required:!0,handleChange:function(e){return r(e.target.value)},type:"text"}),Object(l.jsx)(V,{labelText:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",value:h,id:"name",formControlProps:{fullWidth:!0},handleChange:function(e){return x(e.target.value)},type:"text",required:!0,minlength:"6",maxlength:"6"}),Object(l.jsx)(V,{labelText:"\u0418\u043c\u044f",value:C,id:"name",formControlProps:{fullWidth:!0},handleChange:function(e){return w(e.target.value)},type:"text"}),Object(l.jsx)(V,{labelText:"Password",id:"password",value:j,formControlProps:{fullWidth:!0},handleChange:function(e){return u(e.target.value)},type:"password"}),Object(l.jsxs)("select",{style:{width:"100%",padding:"10px 0px"},onChange:function(e){Y(e.target.value)},name:"select",children:[Object(l.jsx)("option",{defaultChecked:!0,value:"grech",children:"\u0413\u0440\u0435\u0447\u0435\u0441\u043a\u0430\u044f"}),Object(l.jsx)("option",{value:"alex",children:"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u043e\u0432\u0441\u043a\u0430\u044f"}),Object(l.jsx)("option",{value:"cheh",children:"\u0427\u0435\u0445\u043e\u0432\u0430"}),Object(l.jsx)("option",{value:"petr",children:"\u041f\u0435\u0442\u0440\u043e\u0432\u0441\u043a\u0430\u044f"})]}),Object(l.jsx)("p",{style:{color:"red"},children:v&&v}),Object(l.jsx)(f.a,{type:"submit",color:"primary",children:"Sign Up"}),Object(l.jsx)("span",{onClick:function(){X.signOut().then((function(e){})).catch((function(e){}))},children:"exit"})]})});return Object(l.jsx)("div",{children:M})},ae=a(148),ne=a(258),ce=a(259),ie=a(260),re=a(276),se=a(247),oe=a(261),le=a(262),de=a(263);function je(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)"),width:"60%"}}var ue=Object(h.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},footer:{display:"flex",justifyContent:"space-between",margin:"20px 0 0"},ulStyles:{overflow:"auto",maxHeight:300}}})),be=function(e){var t=e.isOpen,a=e.setIsOpen,i=e.selected,r=ue(),o=c.a.useState(je),d=Object(s.a)(o,1)[0],j=Object(n.useState)("monday"),u=Object(s.a)(j,2),b=u[0],p=u[1],h=function(e){m(),v(),O.a.database().ref("/block").update({i:!0}),a(!1)},m=function(){O.a.database().ref("/menu/".concat(b)).update({activeFrom:g()(new Date).format("DD-MM-YYYY HH:mm:ss"),activeTo:g()(new Date).add(1,"day").format("DD-MM-YYYY 09:29:00"),selected:i})},v=function(){O.a.database().ref("/orders/alex/").remove(),O.a.database().ref("/orders/grech/").remove(),O.a.database().ref("/orders/petr/").remove(),O.a.database().ref("/orders/cheh/").remove(),O.a.database().ref("/orders/sum/").remove().then((function(){O.a.database().ref("/orders/sum/").push(0)}))},y=Object(l.jsxs)("div",{style:d,className:r.paper,children:[Object(l.jsx)("h2",{id:"simple-modal-title",children:"\u041f\u043e\u0434\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043c\u0435\u043d\u044e?"}),Object(l.jsx)("ul",{className:r.ulStyles,children:i.length?null===i||void 0===i?void 0:i.map((function(e){return Object(l.jsx)("li",{children:e.name})})):Object(l.jsx)("li",{children:"\u041d\u0418\u0427\u0415\u0413\u041e"})}),Object(l.jsxs)("select",{style:{fontSize:"16px"},onChange:function(e){p(e.target.value)},name:"select",defaultValue:b,children:[Object(l.jsx)("option",{value:"monday",children:"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a"}),Object(l.jsx)("option",{value:"tuesday",children:"\u0412\u0442\u043e\u0440\u043d\u0438\u043a"}),Object(l.jsx)("option",{value:"wednesday",children:"\u0421\u0440\u0435\u0434\u0430"}),Object(l.jsx)("option",{value:"thursday",children:"\u0427\u0435\u0442\u0432\u0435\u0440\u0433"}),Object(l.jsx)("option",{value:"friday",children:"\u041f\u044f\u0442\u043d\u0438\u0446\u0430"})]}),Object(l.jsx)("footer",{className:r.footer,children:Object(l.jsx)(f.a,{onClick:function(){return h()},variant:"contained",color:"primary",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})})]});return Object(l.jsx)("div",{children:Object(l.jsx)(x.a,{open:t,onClose:h,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:y})})},pe=a(271),he=a(255),fe=a(256),xe=a(267),Oe=a(257),me=function(e){var t=e.name,a=e.setName,n=e.gr,c=e.setGr,i=e.cal,r=e.setCal,s=e.price,o=e.setPrice,d=e.onClickAdd,j=e.open,u=e.setOpen,b=function(){u(!1),o(""),a(""),c(""),r("")};return Object(l.jsxs)("div",{children:[Object(l.jsx)(f.a,{variant:"outlined",color:"primary",onClick:function(){u(!0)},children:"+"}),Object(l.jsxs)(pe.a,{open:j,onClose:b,"aria-labelledby":"form-dialog-title",children:[Object(l.jsx)(he.a,{id:"form-dialog-title",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043f\u043e\u0437\u0438\u0446\u0438\u044e \u043c\u0435\u043d\u044e"}),Object(l.jsxs)(fe.a,{children:[Object(l.jsx)("span",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430"}),Object(l.jsx)(xe.a,{margin:"dense",id:"name",type:"text",value:t,onChange:function(e){a(e.target.value)},fullWidth:!0}),Object(l.jsx)("span",{children:"\u0413\u0440\u0430\u043c\u043c"}),Object(l.jsx)(xe.a,{margin:"dense",id:"name",value:n,onChange:function(e){c(e.target.value)},type:"text",fullWidth:!0}),Object(l.jsx)("span",{children:"\u041a\u043a\u0430\u043b"}),Object(l.jsx)(xe.a,{margin:"dense",id:"name",value:i,onChange:function(e){r(e.target.value)},type:"text",fullWidth:!0}),Object(l.jsx)("span",{children:"\u0426\u0435\u043d\u0430 \u0440\u0443\u0431."}),Object(l.jsx)(xe.a,{margin:"dense",id:"name",value:s,onChange:function(e){o(e.target.value)},type:"text",fullWidth:!0})]}),Object(l.jsxs)(Oe.a,{children:[Object(l.jsx)(f.a,{onClick:d,color:"primary",children:"Add"}),Object(l.jsx)(f.a,{onClick:b,color:"primary",children:"Cancel"})]})]})]})},ge=a(141),ve=a.n(ge);function ye(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function ke(e,t){return"desc"===e?function(e,a){return ye(e,a,t)}:function(e,a){return-ye(e,a,t)}}function Ae(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}var Ce=[{id:"name",numeric:!1,disablePadding:!0,label:"\u0411\u043b\u044e\u0434\u043e"},{id:"gr",numeric:!0,disablePadding:!1,label:"\u0413\u0440\u0430\u043c\u043c"},{id:"cal",numeric:!0,disablePadding:!1,label:"\u043a\u043a\u0430\u043b"},{id:"img",numeric:!1,disablePadding:!1,label:"\u0424\u043e\u0442\u043e"},{id:"price",numeric:!0,disablePadding:!1,label:"\u0426\u0435\u043d\u0430(\u0440)"},{numeric:!0,label:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435"}];function we(e){var t=e.classes,a=e.onSelectAllClick,n=e.order,c=e.orderBy,i=e.numSelected,r=e.rowCount,s=e.onRequestSort;return Object(l.jsx)(ne.a,{children:Object(l.jsxs)(ce.a,{children:[Object(l.jsx)(ie.a,{className:t.align,padding:"checkbox",children:Object(l.jsx)(k.a,{className:t.align,indeterminate:i>0&&i<r,checked:r>0&&i===r,onChange:a,inputProps:{"aria-label":"select all desserts"}})}),Ce.map((function(e,a){return Object(l.jsx)(ie.a,{className:t.align,children:Object(l.jsxs)(re.a,{className:t.align,active:c===e.id,direction:c===e.id?n:"asc",onClick:(i=e.id,function(e){s(e,i)}),children:[e.label,c===e.id?Object(l.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var i}))]})})}var Se,Ne=Object(h.a)((function(e){var t;return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},align:Object(F.a)({align:"right"},e.breakpoints.down("600"),{fontSize:"8px",fontWeight:600,padding:"6px 2px 6px 12px"}),dishName:(t={marginTop:"8%",width:"98%",height:"85vh",display:"flex",flexDirection:"column"},Object(F.a)(t,e.breakpoints.down("700"),{width:"95%",marginTop:"10%"}),Object(F.a)(t,e.breakpoints.down("600"),{width:"95%",marginTop:"20%"}),t),tableBlock:{height:"100%",display:"flex",flexDirection:"column",overflow:"scroll"},button:Object(F.a)({display:"flex",alignItems:"center",justifyContent:"center",marginTop:"5px",marginBottom:"4%"},e.breakpoints.down("600"),{marginBottom:"9%"})}})),De=function(e){var t=e.user,a=e.data,i=Ne(),r=c.a.useState("asc"),o=Object(s.a)(r,2),d=o[0],j=o[1],u=c.a.useState("price"),b=Object(s.a)(u,2),h=b[0],x=b[1],m=c.a.useState([]),g=Object(s.a)(m,2),v=g[0],y=g[1],A=Object(n.useState)(!1),C=Object(s.a)(A,2),w=C[0],S=C[1],N=Object(n.useState)(),D=Object(s.a)(N,2),Y=D[0],P=D[1],M=Object(n.useState)(!1),I=Object(s.a)(M,2),T=I[0],B=I[1],E=Object(n.useState)(),F=Object(s.a)(E,2),z=F[0],W=F[1],R=Object(n.useState)(),U=Object(s.a)(R,2),H=U[0],L=U[1],J=Object(n.useState)(),K=Object(s.a)(J,2),G=K[0],q=K[1],V=Object(n.useState)(),X=Object(s.a)(V,2),Q=X[0],$=X[1],_=Object(n.useState)(),ee=Object(s.a)(_,2),te=ee[0],ne=ee[1],re=Object(n.useState)(),je=Object(s.a)(re,2),ue=je[0],pe=je[1],he=Object(n.useState)(),fe=Object(s.a)(he,2),xe=fe[0],Oe=fe[1],ge=Object(n.useState)(),ye=Object(s.a)(ge,2),Ce=ye[0],Se=ye[1],De=Object(n.useState)(""),Ye=Object(s.a)(De,2),Pe=Ye[0],Me=Ye[1];Object(n.useEffect)((function(){O.a.database().ref("allmenu/").on("value",(function(e){var t=e.val(),a=t&&Object.keys(t).map((function(e){return t[e]}));P(a)}))}),[]);var Ie=Y||[{name:"1",price:"1"}],Te={name:H,setName:L,gr:Q,setGr:$,cal:G,setCal:q,price:z,setPrice:W,onClickAdd:function(){H&&z&&O.a.database().ref("/allmenu").push({name:H,price:parseInt(z),gr:parseInt(Q),cal:parseInt(G),edit:!1}).then((function(e){$(""),q(""),W(""),L("");var t=e.key;O.a.database().ref("/allmenu/".concat(t)).update({id:t})})),B(!1)},open:T,setOpen:B},Be=function(e){var t=e.target.files[0];Me((function(e){return t}))};return Object(l.jsxs)("div",{className:i.dishName,children:[Object(l.jsxs)(se.a,{className:i.tableBlock,children:[Object(l.jsx)(oe.a,{style:{height:"93%"},children:Object(l.jsxs)(le.a,{children:[Object(l.jsx)(we,{classes:i,numSelected:v.length,order:d,orderBy:h,onSelectAllClick:function(e){if(e.target.checked){var t=Ie.map((function(e){return{name:e.name?e.name:"1",price:e.price?e.price:0,cal:e.cal?e.cal:0,img:e.img?e.img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAC3CAMAAAAGjUrGAAAAKlBMVEXg4OD////j4+Pd3d36+vri4uLw8PDs7Oz29vb09PTa2tr5+fnm5ubx8fF4aKZkAAABUUlEQVR4nO3Z246CMBRAUWjBgQ78/+8OeMVR4E0TzlovJpUY3DnBglUFAAAAAAAAAAAAAAAAAAAAAAAAAMAh5DZtq/K3T/HTclfv6YNFyf1ukro+ffssPyvX9bg9BtMg/cYalKnJz06TU93EazK/tENa+eJRm+Rxump0K0cEbXI6X0q7t189aJN8/X1p3x4Ru8nwWO7uQxO0Sbk2eax2j51a0CbVcNma3UejW2xfozbJqZley22tW+7pozapcinleUruUcI2Wa4sbgrnKLGbpPPC033yFCV0k2ben/x/dNDnwE1yM2/aXp+mlMBN5iR18/qAKW6T85S8FbfJapKwTdanJHCT9SSaaDLT5NWlSWrXpMh7tpW3g97v9CkN61LqwjUZN64lNzv/AB1O2f+/eCz7H3MspeRtJVwSAAAAAAAAAAAAAAAAAAAAAAAAAICj+gOmbQmv8zyqjAAAAABJRU5ErkJggg==",gr:e.gr?e.gr:0}}));y(t)}else y([])},onRequestSort:function(e,t){j(h===t&&"asc"===d?"desc":"asc"),x(t)},rowCount:Ie.length}),Object(l.jsx)(de.a,{children:Ae(Ie,ke(d,h)).map((function(e,t){var a=function(e){return-1!==v.findIndex((function(t){return t.name===e}))}(e.name),n="enhanced-table-checkbox-".concat(t);return Object(l.jsxs)(ce.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(l.jsx)(ie.a,{className:i.align,padding:"checkbox",children:Object(l.jsx)(k.a,{onClick:function(t){return function(e,t,a,n,c,i){var r,s=v.findIndex((function(e){return e.name===t})),o=[];-1===s?o=(r=o).concat.apply(r,Object(ae.a)(v).concat([{name:t||"1",price:a||0,img:c||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAC3CAMAAAAGjUrGAAAAKlBMVEXg4OD////j4+Pd3d36+vri4uLw8PDs7Oz29vb09PTa2tr5+fnm5ubx8fF4aKZkAAABUUlEQVR4nO3Z246CMBRAUWjBgQ78/+8OeMVR4E0TzlovJpUY3DnBglUFAAAAAAAAAAAAAAAAAAAAAAAAAMAh5DZtq/K3T/HTclfv6YNFyf1ukro+ffssPyvX9bg9BtMg/cYalKnJz06TU93EazK/tENa+eJRm+Rxump0K0cEbXI6X0q7t189aJN8/X1p3x4Ru8nwWO7uQxO0Sbk2eax2j51a0CbVcNma3UejW2xfozbJqZley22tW+7pozapcinleUruUcI2Wa4sbgrnKLGbpPPC033yFCV0k2ben/x/dNDnwE1yM2/aXp+mlMBN5iR18/qAKW6T85S8FbfJapKwTdanJHCT9SSaaDLT5NWlSWrXpMh7tpW3g97v9CkN61LqwjUZN64lNzv/AB1O2f+/eCz7H3MspeRtJVwSAAAAAAAAAAAAAAAAAAAAAAAAAICj+gOmbQmv8zyqjAAAAABJRU5ErkJggg==",gr:i||0,cal:n||0}])):0===s?o=o.concat(v.slice(1)):s===v.length-1?o=o.concat(v.slice(0,-1)):s>0&&(o=o.concat(v.slice(0,s),v.slice(s+1))),y(o)}(0,e.name,e.price,e.cal,e.img,e.gr)},checked:a,inputProps:{"aria-labelledby":n}})}),Object(l.jsxs)(ie.a,{className:i.align,children:[!e.editName&&e.name,Object(l.jsx)("span",{style:{color:"green",cursor:"pointer"},onClick:function(){O.a.database().ref("/allmenu/".concat(e.id)).update({editName:!0}),ne(e.name)},children:!e.editName&&" edit"}),e.editName&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{value:te,onChange:function(e){return ne(e.target.value)}}),Object(l.jsx)("span",{style:{color:"green",marginLeft:"5px",cursor:"pointer"},onClick:function(){te&&O.a.database().ref("/allmenu/".concat(e.id)).update({name:te,editName:!1}),ne("")},children:"ok"}),Object(l.jsx)("span",{style:{color:"red",marginLeft:"5px",cursor:"pointer"},onClick:function(){O.a.database().ref("/allmenu/".concat(e.id)).update({editName:!1}),ne("")},children:"cancel"})]})]}),Object(l.jsxs)(ie.a,{className:i.align,children:[!e.editGr&&e.gr,Object(l.jsx)("span",{style:{color:"green",cursor:"pointer"},onClick:function(){O.a.database().ref("/allmenu/".concat(e.id)).update({editGr:!0}),Se(e.gr)},children:!e.editGr&&" edit"}),e.editGr&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{value:Ce,onChange:function(e){return Se(e.target.value)}}),Object(l.jsx)("span",{style:{color:"green",marginLeft:"5px",cursor:"pointer"},onClick:function(){Ce&&O.a.database().ref("/allmenu/".concat(e.id)).update({gr:parseInt(Ce),editGr:!1}),Se("")},children:"ok"}),Object(l.jsx)("span",{style:{color:"red",marginLeft:"5px",cursor:"pointer"},onClick:function(){O.a.database().ref("/allmenu/".concat(e.id)).update({editGr:!1}),Se("")},children:"cancel"})]})]}),Object(l.jsxs)(ie.a,{className:i.align,children:[!e.editCal&&e.cal,Object(l.jsx)("span",{style:{color:"green",cursor:"pointer"},onClick:function(){O.a.database().ref("/allmenu/".concat(e.id)).update({editCal:!0}),pe(e.cal)},children:!e.editCal&&" edit"}),e.editCal&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{value:ue,onChange:function(e){return pe(e.target.value)}}),Object(l.jsx)("span",{style:{color:"green",marginLeft:"5px",cursor:"pointer"},onClick:function(){ue&&O.a.database().ref("/allmenu/".concat(e.id)).update({cal:parseInt(ue),editCal:!1}),pe("")},children:"ok"}),Object(l.jsx)("span",{style:{color:"red",marginLeft:"5px",cursor:"pointer"},onClick:function(){O.a.database().ref("/allmenu/".concat(e.id)).update({editCal:!1}),pe("")},children:"cancel"})]})]}),Object(l.jsx)(ie.a,{className:i.align,children:Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(l.jsx)("img",{style:{width:50},src:e.img,alt:e.img}),Object(l.jsxs)("form",{style:{display:"flex",flexDirection:"column"},onSubmit:function(t){return function(e,t){e.preventDefault(),Pe&&Z.ref("/images/".concat(Pe.name)).put(Pe).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){Z.ref("images").child(Pe.name).getDownloadURL().then((function(e){O.a.database().ref("/allmenu/".concat(t)).update({img:e})}))}))}(t,e.id)},children:[Object(l.jsx)("input",{type:"file",onChange:Be}),Object(l.jsx)("button",{style:{width:"100px"},children:"upload to firebase"})]})]})}),Object(l.jsx)(ie.a,{className:i.align,children:Object(l.jsxs)("div",{children:[!e.editPrice&&e.price,Object(l.jsx)("span",{style:{color:"green",cursor:"pointer"},onClick:function(){O.a.database().ref("/allmenu/".concat(e.id)).update({editPrice:!0}),Oe(e.price)},children:!e.editPrice&&" edit"}),e.editPrice&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{value:xe,onChange:function(e){return Oe(parseInt(e.target.value))}}),Object(l.jsx)("span",{style:{color:"green",marginLeft:"5px",cursor:"pointer"},onClick:function(){xe&&O.a.database().ref("/allmenu/".concat(e.id)).update({price:xe,editPrice:!1}),Oe("")},children:"ok"}),Object(l.jsx)("span",{style:{color:"red",marginLeft:"5px",cursor:"pointer"},onClick:function(){O.a.database().ref("/allmenu/".concat(e.id)).update({editPrice:!1}),ne("")},children:"cancel"})]})]})}),Object(l.jsx)(ie.a,{className:i.align,children:Object(l.jsx)(ve.a,{style:{cursor:"pointer"},onClick:function(){var t=e.id;O.a.database().ref("/allmenu/".concat(t)).remove()}})})]},e.name)}))})]})}),Object(l.jsx)(me,Object(p.a)({},Te))]}),Object(l.jsx)("div",{className:i.button,children:Object(l.jsx)(f.a,{style:{width:"fit-content",textAlign:"center"},onClick:function(){S(!0)},variant:"contained",color:"primary",children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})}),Object(l.jsx)(be,{isOpen:w,setIsOpen:S,selected:v,user:t,data:a})]})},Ye=function(){var e=Object(n.useState)(),t=Object(s.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(),r=Object(s.a)(i,2),o=r[0],d=r[1],j=Object(n.useState)(),u=Object(s.a)(j,2),b=u[0],p=u[1],h=Object(n.useState)(),f=Object(s.a)(h,2),x=f[0],m=f[1];return Object(n.useEffect)((function(){O.a.database().ref("orders/").on("value",(function(e){var t=e.val(),a=t.grech&&Object.keys(t.grech).map((function(e,a){return{item:t.grech[e]}})),n=t.alex&&Object.keys(t.alex).map((function(e){return{item:t.alex[e]}})),i=t.cheh&&Object.keys(t.cheh).map((function(e){return{item:t.cheh[e]}})),r=t.petr&&Object.keys(t.petr).map((function(e){return{item:t.petr[e]}})),s=[];t.grech&&a.forEach((function(e){Array.isArray(e.item)&&e.item.forEach((function(e){s.push(e)}));var t={},a=[];s.forEach((function(e){t[e.id]||(t[e.id]=""),t[e.id]+="".concat(e.name,";")}));var n=function(e){for(var n=t[e].substr(0,t[e].length-1).split(";"),c=void 0,i={},r=n&&n.length;r--;)c=n[r],i[c]?i[c]+=1:i[c]=1;var s=Object.keys(i).map((function(e){return{name:e,num:i[e]}}));a.push({id:e,name:s})};for(var i in t)n(i);c(a)}));var o=[];t.alex&&n.forEach((function(e){Array.isArray(e.item)&&e.item.forEach((function(e){o.push(e)}));var t={},a=[];o.forEach((function(e){t[e.id]||(t[e.id]=""),t[e.id]+="".concat(e.name,";")}));var n=function(e){for(var n=t[e].substr(0,t[e].length-1).split(";"),c=void 0,i={},r=n&&n.length;r--;)c=n[r],i[c]?i[c]+=1:i[c]=1;var s=Object.keys(i).map((function(e){return{name:e,num:i[e]}}));a.push({id:e,name:s})};for(var c in t)n(c);d(a)}));var l=[];t.cheh&&i.forEach((function(e){Array.isArray(e.item)&&e.item.forEach((function(e){l.push(e)}));var t={},a=[];l.forEach((function(e){t[e.id]||(t[e.id]=""),t[e.id]+="".concat(e.name,";")}));var n=function(e){for(var n=t[e].substr(0,t[e].length-1).split(";"),c=void 0,i={},r=n&&n.length;r--;)c=n[r],i[c]?i[c]+=1:i[c]=1;var s=Object.keys(i).map((function(e){return{name:e,num:i[e]}}));a.push({id:e,name:s})};for(var c in t)n(c);p(a)}));var j=[];t.petr&&r.forEach((function(e){Array.isArray(e.item)&&e.item.forEach((function(e){j.push(e)}));var t={},a=[];j.forEach((function(e){t[e.id]||(t[e.id]=""),t[e.id]+="".concat(e.name,";")}));var n=function(e){for(var n=t[e].substr(0,t[e].length-1).split(";"),c=void 0,i={},r=n&&n.length;r--;)c=n[r],i[c]?i[c]+=1:i[c]=1;var s=Object.keys(i).map((function(e){return{name:e,num:i[e]}}));a.push({id:e,name:s})};for(var c in t)n(c);m(a)}))}))}),[]),Object(l.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",marginTop:"10%",marginBottom:"10%"},children:Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"\u0413\u0440\u0435\u0447\u0435\u0441\u043a\u0430\u044f"}),a&&a.map((function(e,t){return Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{style:{color:"red"},children:["\u041d\u043e\u043c\u0435\u0440 \u0417\u0430\u043a\u0430\u0437\u0430: ",e.id]}),Object(l.jsx)("div",{children:e.name.map((function(e,t){return Object(l.jsxs)("p",{children:[e.name," - ",e.num]})}))})]})})),Object(l.jsx)("h2",{children:"\u0427\u0435\u0445\u043e\u0432\u0430"}),b&&b.map((function(e,t){return Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{style:{color:"red"},children:["\u041d\u043e\u043c\u0435\u0440 \u0417\u0430\u043a\u0430\u0437\u0430: ",e.id]}),Object(l.jsx)("div",{children:e.name.map((function(e,t){return Object(l.jsxs)("p",{children:[e.name," - ",e.num]})}))})]})})),Object(l.jsx)("h2",{children:"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u043e\u0432\u0441\u043a\u0430\u044f"}),o&&o.map((function(e,t){return Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{style:{color:"red"},children:["\u041d\u043e\u043c\u0435\u0440 \u0417\u0430\u043a\u0430\u0437\u0430: ",e.id]}),Object(l.jsx)("div",{children:e.name.map((function(e,t){return Object(l.jsxs)("p",{children:[e.name," - ",e.num]})}))})]})})),Object(l.jsx)("h2",{children:"\u041f\u0435\u0442\u0440\u043e\u0432\u0441\u043a\u0430\u044f"}),x&&x.map((function(e,t){return Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{style:{color:"red"},children:["\u041d\u043e\u043c\u0435\u0440 \u0417\u0430\u043a\u0430\u0437\u0430: ",e.id]}),Object(l.jsx)("div",{children:e.name.map((function(e,t){return Object(l.jsxs)("p",{children:[e.name," - ",e.num]})}))})]})}))]})})},Pe=a(142),Me=a.n(Pe),Ie=a(266),Te=a(147),Be=Object(Te.a)({breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}}),Ee=a(264),Fe=a(265),ze=c.a.forwardRef((function(e,t){return Object(l.jsx)(Ee.a,Object(p.a)({direction:"up",ref:t},e))}));function We(e){var t=e.setPaid,a=e.paid,n=(e.setIsPaid,e.checkPaid,e.ind),c=e.user,i=function(){t(!1),function(e,t){O.a.database().ref("/orders/history/".concat(c.uid,"/").concat(t)).update({checkPaid:!0})}(0,n),console.log(n)};return Object(l.jsx)("div",{children:Object(l.jsxs)(pe.a,{open:a,TransitionComponent:ze,keepMounted:!0,onClose:function(){t(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(l.jsx)(he.a,{style:{textAlign:"center"},id:"alert-dialog-slide-title",children:"\u041e\u043f\u043b\u0430\u0442\u0438\u043b\u0438 \u0437\u0430\u043a\u0430\u0437?"}),Object(l.jsx)(fe.a,{children:Object(l.jsx)(Fe.a,{style:{color:"black"},id:"alert-dialog-slide-description",children:"\u041d\u0430\u0436\u0438\u043c\u0430\u044f '\u0434\u0430' \u0432\u044b \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u0435\u0442\u0435, \u0447\u0442\u043e \u043e\u043f\u043b\u0430\u0442\u0438\u043b\u0438 \u0437\u0430\u043a\u0430\u0437 \u0438 \u043f\u043e\u043d\u0438\u043c\u0430\u0435\u0442\u0435, \u0447\u0442\u043e \u0443 \u043d\u0430\u0441 \u0435\u0441\u0442\u044c \u0432\u0430\u0448 \u0430\u0434\u0440\u0435\u0441."})}),Object(l.jsx)(Oe.a,{children:Object(l.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-around",marginBottom:"10px"},children:Object(l.jsx)(f.a,{style:{width:"35%",fontSize:"10px",backgroundColor:"#94C571",color:"white"},onClick:function(){i()},color:"primary",children:"\u0414\u0410"})})})]})})}var Re=Object(h.a)({align:(Se={align:"right"},Object(F.a)(Se,Be.breakpoints.down("600"),{fontSize:"12px",fontWeight:600,padding:"6px 2px 6px 12px"}),Object(F.a)(Se,Be.breakpoints.down("350"),{textAlign:"center",fontSize:"10px",fontWeight:500,padding:"6px 0px 6px 0px"}),Se),dishName:Object(F.a)({display:"flex",flexDirection:"column",marginTop:"60px",marginBottom:"10%"},Be.breakpoints.down("600"),{width:"95%"})}),Ue=function(e){var t=e.user,a=e.data,i=e.paid,r=e.setPaid,o=Re(),d=Object(n.useState)(),j=Object(s.a)(d,2),u=j[0],b=j[1],h=Object(n.useState)(),f=Object(s.a)(h,2),x=f[0],m=f[1],v=Object(n.useState)(g()(new Date).format("YYYY-MM-DD")),y=Object(s.a)(v,2),A=y[0],C=y[1],w=c.a.useState({checkedA:!0}),S=Object(s.a)(w,2),N=S[0],D=S[1],Y=Object(n.useState)(!1),P=Object(s.a)(Y,2),M=P[0],I=P[1],T=Object(n.useState)(),B=Object(s.a)(T,2),E=B[0],z=B[1],W=Object(n.useState)(),R=Object(s.a)(W,2),U=R[0],H=R[1],L={fontSize:"23px",fontWeight:600,margin:"15px 0"},J=g()(new Date).add(1,"day").format("YYYY-MM-DD");console.log(A,"date"),console.log(J,"date2"),Object(n.useEffect)((function(){t&&O.a.database().ref("orders/history/".concat(t.uid,"/")).on("value",(function(e){var t=e.val(),a=t&&Object.keys(t).map((function(e,a){return t[e]}));if(b(a),N.checkedA){var n=(null===a||void 0===a?void 0:a.filter((function(e){return e&&(e.date===A||e.date===J)})).length)?1===(null===a||void 0===a?void 0:a.filter((function(e){return e&&(e.date===A||e.date===J)})).length)?null===a||void 0===a?void 0:a.filter((function(e){return e.date===A||e.date===J}))[0].selectedPrice:null===a||void 0===a?void 0:a.filter((function(e){return e&&(e.date===A||e.date===J)})).reduce((function(e,t){return e+t.selectedPrice}),0):m(0);m(n)}else{var c=u&&u.reduce((function(e,t){return e+t.selectedPrice}),0);m(c),C(g()(new Date).format("YYYY-MM-DD"))}}))}),[t,A,N]);return Object(l.jsxs)("div",{className:o.dishName,children:[Object(l.jsxs)("h2",{children:["Total:",x," \u0440\u0443\u0431"]}),Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(l.jsx)(Ie.a,{checked:N.checkedA,onChange:function(e){D(Object(p.a)(Object(p.a)({},N),{},Object(F.a)({},e.target.name,e.target.checked)))},name:"checkedA",inputProps:{"aria-label":"secondary checkbox"}}),N.checkedA&&Object(l.jsx)(xe.a,{className:o.align,id:"date",type:"date",defaultValue:g()(new Date).format("YYYY-MM-DD"),onChange:function(e){return C(e.target.value.replace(/-/g,"-"))},InputLabelProps:{shrink:!0}}),N.checkedA?Object(l.jsx)("span",{style:L,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043f\u043e \u0434\u0430\u0442\u0435"}):Object(l.jsx)("span",{style:L,children:"\u0412\u0441\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u044f"})]}),Object(l.jsx)(oe.a,{component:se.a,style:{height:"1300px"},children:Object(l.jsxs)(le.a,{className:o.align,size:"small","aria-label":"a dense table",children:[Object(l.jsx)(ne.a,{children:Object(l.jsx)(ce.a,{children:N.checkedA?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(ie.a,{className:o.align,children:"\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(l.jsx)(ie.a,{className:o.align,children:"Products"}),Object(l.jsx)(ie.a,{className:o.align,children:"\u0420\u0443\u0431."}),Object(l.jsx)(ie.a,{className:o.align,children:"\u041e\u0442\u043c\u0435\u043d\u0430 \u0437\u0430\u043a\u0430\u0437\u0430."}),Object(l.jsx)(ie.a,{className:o.align,children:"\u041e\u043f\u043b\u0430\u0442\u0430"})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(ie.a,{className:o.align,children:"\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(l.jsx)(ie.a,{className:o.align,children:"Products"}),Object(l.jsx)(ie.a,{className:o.align,children:"\u0420\u0443\u0431."}),Object(l.jsx)(ie.a,{className:o.align,children:"\u041e\u043f\u043b\u0430\u0442\u0430"})]})})}),Object(l.jsx)(de.a,{children:N.checkedA?Object(l.jsx)(l.Fragment,{children:u&&u.filter((function(e){return A===g()(e.date).subtract(1,"day").format("YYYY-MM-DD")||A===g()(e.date).format("YYYY-MM-DD")})).map((function(e,n){return Object(l.jsxs)(ce.a,{children:[Object(l.jsxs)(ie.a,{className:o.align,children:[e.id,Object(l.jsx)("p",{children:e.date})]}),Object(l.jsx)(ie.a,{className:o.align,children:Object(l.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:e.selected.map((function(e,t){return Object(l.jsx)("span",{style:{fontSize:"12px",overflow:"scroll",width:"120px"},children:e},"selected-".concat(t))}))})}),Object(l.jsx)(ie.a,{className:o.align,children:e.selectedPrice}),Object(l.jsx)(ie.a,{className:o.align,children:e.ind&&e.id&&Object(l.jsx)(Me.a,{style:{cursor:"pointer"},onClick:function(){return e.ind&&e.id&&(n=e.ind,c=e.idOrder,O.a.database().ref("/orders/".concat(a.office,"/").concat(c)).remove(),void O.a.database().ref("/orders/history/".concat(t.uid,"/").concat(n)).remove());var n,c}})}),Object(l.jsxs)(ie.a,{children:[e.checkPaid?Object(l.jsx)(k.a,{disabled:!0,checked:!0}):Object(l.jsx)(k.a,{checked:e.checkPaid,onClick:function(){H(e.ind),z(e.checkPaid),r(!0)}}),Object(l.jsx)(We,{paid:i,setPaid:r,isPaid:M,setIsPaid:I,checkPaid:E,ind:U,user:t})]})]},e.name+n)}))}):Object(l.jsx)(l.Fragment,{children:u&&u.map((function(e,a){return Object(l.jsxs)(ce.a,{children:[Object(l.jsxs)(ie.a,{className:o.align,children:[e.id," ",Object(l.jsx)("p",{children:e.date})]}),Object(l.jsx)(ie.a,{className:o.align,children:Object(l.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:e.selected.map((function(e,t){return Object(l.jsx)("span",{style:{fontSize:"12px",overflow:"scroll",width:"150px"},children:e},"selected-".concat(t))}))})}),Object(l.jsx)(ie.a,{className:o.align,children:e.selectedPrice}),Object(l.jsxs)(ie.a,{children:[e.checkPaid?Object(l.jsx)(k.a,{disabled:!0,checked:!0}):Object(l.jsx)(k.a,{checked:e.checkPaid,onClick:function(){H(e.ind),z(e.checkPaid),r(!0)}}),Object(l.jsx)(We,{paid:i,setPaid:r,isPaid:M,setIsPaid:I,checkPaid:E,ind:U,user:t})]})]},a+e.name)}))})})]})}),Object(l.jsx)("div",{})]})},He=a(73),Le="SET_ID",Je="Data1",Ke=Object(h.a)({align:Object(F.a)({align:"center",fontSize:"16px"},Be.breakpoints.down("600"),{fontSize:"9px",fontWeight:600,padding:"6px 0px 6px 12px"}),dishName:Object(F.a)({display:"flex",flexDirection:"column",margin:"10px 0"},Be.breakpoints.down("600"),{width:"95%"})}),Ge=function(){var e=Object(He.b)(),t=Ke(),a=Object(n.useState)(),c=Object(s.a)(a,2),i=c[0],r=c[1];return Object(n.useEffect)((function(){O.a.database().ref("users/").on("value",(function(e){var t=e.val(),a=t&&Object.keys(t).map((function(e){return t[e]}));r(a)}))}),[]),Object(l.jsx)("div",{style:{marginTop:"120px",marginBottom:"120px",display:"flex",justifyContent:"center",width:"90%"},children:Object(l.jsx)(oe.a,{component:se.a,children:Object(l.jsxs)(le.a,{size:"small","aria-label":"a dense table",children:[Object(l.jsx)(ne.a,{children:Object(l.jsxs)(ce.a,{children:[Object(l.jsx)(ie.a,{className:t.align,children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),Object(l.jsx)(ie.a,{className:t.align,children:"\u0418\u043c\u044f"}),Object(l.jsx)(ie.a,{className:t.align,children:"\u041e\u0444\u0444\u0438\u0441"}),Object(l.jsx)(ie.a,{className:t.align,children:"\u041f\u043e\u0447\u0442\u0430"})]})}),Object(l.jsx)(de.a,{children:i&&i.map((function(a){return Object(l.jsxs)(ce.a,{children:[Object(l.jsx)(ie.a,{className:t.align,component:"th",scope:"row",children:Object(l.jsx)(o.b,{to:"/user-history",onClick:function(){return e((t=a.uid,{type:Le,payload:t}));var t},children:Object(l.jsx)("span",{children:a.name})})}),Object(l.jsx)(ie.a,{className:t.align,children:a.lastName}),Object(l.jsx)(ie.a,{className:t.align,children:("alex"===a.office?"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u043e\u0432\u0441\u043a\u0430\u044f":"cheh"===a.office&&"\u0427\u0435\u0445\u043e\u0432\u0430")||"grech"===a.office&&"\u0413\u0440\u0435\u0447\u0435\u0441\u043a\u0430\u044f"||"petr"===a.office&&"\u041f\u0435\u0442\u0440\u043e\u0432\u0441\u043a\u0430\u044f"}),Object(l.jsx)(ie.a,{className:t.align,children:a.email})]},a.name)}))})]})})})},qe=Object(h.a)({align:Object(F.a)({align:"right"},Be.breakpoints.down("600"),{fontSize:"12px",fontWeight:600,padding:"6px 2px 6px 12px"}),dishName:Object(F.a)({display:"flex",flexDirection:"column",marginTop:"60px",marginBottom:"10%"},Be.breakpoints.down("600"),{width:"95%"})}),Ve=function(){var e=qe(),t=Object(n.useState)(),a=Object(s.a)(t,2),i=a[0],r=a[1],o=Object(n.useState)(),d=Object(s.a)(o,2),j=d[0],u=d[1],b=Object(n.useState)(g()(new Date).format("YYYY-MM-DD")),h=Object(s.a)(b,2),f=h[0],x=h[1],m=c.a.useState({checkedA:!0}),v=Object(s.a)(m,2),y=v[0],k=v[1],A=Object(He.c)((function(e){return e.main.id})),C={fontSize:"23px",fontWeight:600,margin:"15px 0"};console.log("date",f);var w=g()(new Date).add(1,"day").format("YYYY-MM-DD");Object(n.useEffect)((function(){O.a.database().ref("orders/history/".concat(A)).on("value",(function(e){var t=e.val(),a=t&&Object.keys(t).map((function(e){return t[e]}));if(r(a),y.checkedA){var n=(null===a||void 0===a?void 0:a.filter((function(e){return e.date===f||e.date===w})).length)?1===(null===a||void 0===a?void 0:a.filter((function(e){return e.date===f||e.date===w})).length)?null===a||void 0===a?void 0:a.filter((function(e){return e.date===f||e.date===w}))[0].selectedPrice:null===a||void 0===a?void 0:a.filter((function(e){return e.date===f||e.date===w})).reduce((function(e,t){return e+t.selectedPrice}),0):u(0);u(n)}else{var c=i&&i.reduce((function(e,t){return e+t.selectedPrice}),0);u(c),x(g()(new Date).format("YYYY-MM-DD"))}}))}),[f,y,A]);return Object(l.jsxs)("div",{className:e.dishName,children:[Object(l.jsxs)("h2",{children:["Total:",j," \u0440\u0443\u0431"]}),Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(l.jsx)(Ie.a,{checked:y.checkedA,onChange:function(e){k(Object(p.a)(Object(p.a)({},y),{},Object(F.a)({},e.target.name,e.target.checked)))},name:"checkedA",inputProps:{"aria-label":"secondary checkbox"}}),y.checkedA&&Object(l.jsx)(xe.a,{id:"date",label:"\u0414\u0430\u0442\u0430",type:"date",defaultValue:g()(new Date).format("YYYY-MM-DD"),onChange:function(e){return x(e.target.value.replace(/-/g,"-"))},className:e.textField,InputLabelProps:{shrink:!0}}),y.checkedA?Object(l.jsx)("span",{style:C,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043f\u043e \u0434\u0430\u0442\u0435"}):Object(l.jsx)("span",{style:C,children:"\u0412\u0441\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u044f"})]}),Object(l.jsx)(oe.a,{component:se.a,children:Object(l.jsxs)(le.a,{className:e.table,size:"small","aria-label":"a dense table",children:[Object(l.jsx)(ne.a,{children:Object(l.jsxs)(ce.a,{children:[Object(l.jsx)(ie.a,{className:e.align,children:"\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(l.jsx)(ie.a,{className:e.align,children:"Time"}),Object(l.jsx)(ie.a,{className:e.align,children:"Products"}),Object(l.jsx)(ie.a,{className:e.align,children:"\u0420\u0443\u0431."})]})}),Object(l.jsx)(de.a,{children:y.checkedA?Object(l.jsx)(l.Fragment,{children:i&&i.filter((function(e){return f===g()(e.date).subtract(1,"day").format("YYYY-MM-DD")||f===g()(e.date).format("YYYY-MM-DD")})).map((function(t){return Object(l.jsxs)(ce.a,{children:[Object(l.jsxs)(ie.a,{className:e.align,children:[t.id,Object(l.jsx)("p",{children:t.date})]}),Object(l.jsx)(ie.a,{className:e.align,children:t.time}),Object(l.jsx)(ie.a,{className:e.align,children:Object(l.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:t.selected.map((function(e,t){return Object(l.jsx)("span",{style:{fontSize:"12px",overflow:"scroll",width:"120px"},children:e},"selected-".concat(t))}))})}),Object(l.jsx)(ie.a,{className:e.align,children:t.selectedPrice})]},t.name)}))}):Object(l.jsx)(l.Fragment,{children:i&&i.map((function(t){return Object(l.jsxs)(ce.a,{children:[Object(l.jsxs)(ie.a,{className:e.align,children:[t.id,Object(l.jsx)("p",{children:t.date})]}),Object(l.jsx)(ie.a,{className:e.align,children:t.time}),Object(l.jsx)(ie.a,{className:e.align,children:Object(l.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:t.selected.map((function(e,t){return Object(l.jsx)("span",{style:{fontSize:"12px",overflow:"scroll",width:"120px"},children:e},"selected-".concat(t))}))})}),Object(l.jsx)(ie.a,{className:e.align,children:t.selectedPrice})]},t.name)}))})})]})})]})},Xe=a(120),Ze=a.p+"static/media/Icon1.93ee8e16.svg",Qe=a.p+"static/media/Icon2.7f00bd87.svg",$e=a.p+"static/media/Icon.2.a1f73a07.svg",_e=a.p+"static/media/icon.1e583185.svg",et=a.p+"static/media/icon..ab0ca10a.svg",tt=a.p+"static/media/Icon.1.4ceb3486.svg",at=c.a.forwardRef((function(e,t){return Object(l.jsx)(Ee.a,Object(p.a)({direction:"up",ref:t},e))}));function nt(e){var t=e.setOpen,a=e.open,n=function(){t(!1)};return Object(l.jsx)("div",{children:Object(l.jsxs)(pe.a,{open:a,TransitionComponent:at,keepMounted:!0,onClose:n,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(l.jsx)(he.a,{style:{textAlign:"center"},id:"alert-dialog-slide-title",children:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0435\u0441\u044c \u0432\u044b\u0439\u0442\u0438?"}),Object(l.jsx)(Oe.a,{children:Object(l.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-around",marginBottom:"10px"},children:[Object(l.jsx)(f.a,{style:{width:"35%",fontSize:"10px",backgroundColor:"#94C571",color:"white"},onClick:n,color:"primary",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(l.jsx)(f.a,{style:{width:"35%",fontSize:"10px",backgroundColor:"#94C571",color:"white"},onClick:function(){X.signOut().then((function(e){localStorage.clear()})).catch((function(e){})),window.location.href="/"},color:"primary",children:"\u0412\u044b\u0439\u0442\u0438"})]})})]})})}var ct=function(e){var t=e.user,a=(e.data,e.isOpen),n=e.setIsOpen,c=e.open,i=e.setOpen;return Object(l.jsxs)("div",{style:a||c?{backgroundColor:"rgba(91, 233, 202, 0.15)",width:"100%",display:"flex",alignItems:"center"}:{backgroundColor:"#CA748B",width:"100%",display:"flex",alignItems:"center"},id:"footer",children:[Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",width:"100%"},children:[t?Object(l.jsx)(o.b,{to:"/",style:{width:"calc(100% / 3)"},children:a||c?Object(l.jsx)("img",{style:{width:"40px",height:"40px"},src:et,alt:"menu"}):Object(l.jsx)("img",{style:{width:"40px",height:"40px"},src:_e,alt:"menu"})}):Object(l.jsx)(o.b,{to:"/reg",children:Object(l.jsx)("div",{style:{color:"#94C571",fontSize:"18px",width:"100%"},children:"REG-IN"})}),t&&Object(l.jsx)(o.b,{to:"/orders-history",style:{width:"calc(100% / 3)"},children:a||c?Object(l.jsx)("img",{style:{width:"25px",height:"25px"},src:$e,alt:"orders"}):Object(l.jsx)("img",{style:{width:"25px",height:"25px"},src:Qe,alt:"orders"})}),t?Object(l.jsx)("div",{style:{width:"calc(100% / 3)",display:"flex",justifyContent:"center",cursor:"pointer"},onClick:function(){i(!0)},children:a||c?Object(l.jsx)("img",{style:{width:"25px",height:"25px"},src:tt,alt:"orders"}):Object(l.jsx)("img",{style:{width:"25px",height:"25px"},src:Ze,alt:"orders"})}):Object(l.jsx)(o.b,{to:"/login",children:Object(l.jsx)("div",{style:{color:"#94C571",fontSize:"18px",width:"100%"},children:"LOG-IN"})})]}),Object(l.jsx)(nt,{open:c,setOpen:i,setIsOpen:n})]})},it=a.p+"static/media/OffImg.c5791012.png",rt=a(6),st=a.n(rt),ot=a(273),lt=a(274),dt=a(7),jt=a(22),ut=a(143),bt=a.n(ut);var pt,ht,ft=[(pt="loading",ht=0,{name:pt,price:ht})];function xt(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function Ot(e,t){return"desc"===e?function(e,a){return xt(e,a,t)}:function(e,a){return-xt(e,a,t)}}function mt(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}var gt=[{id:"name",numeric:!1,disablePadding:!0,label:"\u0411\u043b\u044e\u0434\u043e"},{id:"gr",numeric:!0,disablePadding:!1,label:"\u0413\u0440\u0430\u043c\u043c"},{id:"cal",numeric:!0,disablePadding:!1,label:"\u043a\u043a\u0430\u043b"},{id:"price",numeric:!0,disablePadding:!1,label:"\u0426\u0435\u043d\u0430(\u0440)"}];function vt(e){var t=e.classes,a=e.onSelectAllClick,n=e.order,c=e.orderBy,i=e.numSelected,r=e.rowCount,s=e.onRequestSort;return Object(l.jsx)(ne.a,{children:Object(l.jsxs)(ce.a,{children:[Object(l.jsx)(ie.a,{padding:"checkbox",children:Object(l.jsx)(k.a,{indeterminate:i>0&&i<r,checked:r>0&&i===r,onChange:a,inputProps:{"aria-label":"select all desserts"}})}),gt.map((function(e){return Object(l.jsx)(ie.a,{className:t.align,children:Object(l.jsxs)(re.a,{active:c===e.id,direction:c===e.id?n:"asc",onClick:(a=e.id,function(e){s(e,a)}),children:[e.label,c===e.id?Object(l.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var a}))]})})}var yt=Object(h.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(jt.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),kt=function(e){var t=yt(),a=Object(n.useState)(""),c=Object(s.a)(a,2),i=c[0],r=c[1],o=e.numSelected,d=e.block,j=g()(new Date).format("DD-MM-YYYY HH:mm:ss");return Object(n.useEffect)((function(){O.a.database().ref("day/i").on("value",(function(e){var t=e.val();r(t)})),O.a.database().ref("/menu").on("value",(function(e){var t=e.val(),a=Object.keys(t).map((function(e){return t[e]})),n=[];(Object.keys(a).map((function(e){return j<a[e].activeTo&&j>a[e].activeFrom&&n.push(a[e]),a[e]})),n.length)?O.a.database().ref("/block").update({i:!0}):O.a.database().ref("/block").update({i:!1})}))}),[j]),Object(l.jsx)(Y.a,{className:Object(dt.a)(t.root,Object(F.a)({},t.highlight,o>0)),children:o>0?Object(l.jsxs)(P.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[o," selected"]}):Object(l.jsxs)(P.a,{style:{display:"flex",flexFlow:"column"},className:t.title,variant:"h6",id:"tableTitle",component:"div",children:[Object(l.jsxs)("span",{className:"today-menu",children:["\u041c\u0435\u043d\u044e \u043d\u0430:",("monday"===i?" \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a":"tuesday"===i&&" \u0432\u0442\u043e\u0440\u043d\u0438\u043a")||"wednesday"===i&&" \u0441\u0440\u0435\u0434\u0443"||"thursday"===i&&" \u0447\u0435\u0442\u0432\u0435\u0440\u0433"||"friday"===i&&" \u043f\u044f\u0442\u043d\u0438\u0446\u0443"]}),d?Object(l.jsx)(bt.a,{format:"HH:mm:ss",ticking:!1,timezone:"Europe/Moscow"}):Object(l.jsx)("span",{className:"time-is-over",children:"\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u0448\u043b\u043e, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u0430\u0432\u0442\u0440\u0430 \u0434\u043e 9-30 \u0443\u0442\u0440\u0430"})]})})},At=Object(h.a)((function(e){return{root:{width:"98%",margin:"0px auto",maxWidth:"1024px",display:"flex",alignItems:"center",flexDirection:"column",marginTop:"15%"},paper:{width:"100%",borderRadius:"10px",marginBottom:e.spacing(2)},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},align:Object(F.a)({align:"right"},e.breakpoints.down("600"),{fontSize:"8px",fontWeight:600,padding:"2px 2px 4px 12px"}),a:Object(F.a)({},e.breakpoints.down("sm"),{textAlign:"center",fontSize:"8px",fontWeight:600}),dishName:{display:"flex",flexDirection:"column",margin:"5px 0"},img:{marginTop:"20px",width:"50%",height:"50%"}}})),Ct=function(e){var t=e.user,a=e.data,c=e.isData,i=e.isOpen,r=e.setIsOpen,o=e.open,d=At(),j=Object(n.useState)("asc"),u=Object(s.a)(j,2),b=u[0],p=u[1],h=Object(n.useState)("price"),x=Object(s.a)(h,2),m=x[0],g=x[1],v=Object(n.useState)([]),y=Object(s.a)(v,2),A=y[0],C=y[1],w=Object(n.useState)([]),S=Object(s.a)(w,2),N=S[0],Y=S[1],P=Object(n.useState)(),M=Object(s.a)(P,2),I=M[0],B=M[1],E=Object(n.useState)(),F=Object(s.a)(E,2),z=F[0],W=F[1],R=Object(n.useState)(),U=Object(s.a)(R,2),H=U[0],L=U[1],J=Object(n.useState)(),K=Object(s.a)(J,2),G=K[0],q=K[1],V=G?G.selected:ft;Object(n.useEffect)((function(){O.a.database().ref("day/i").on("value",(function(e){var t=e.val();L(t),O.a.database().ref("menu/").on("value",(function(e){var a=e.val();q(a[t])})),O.a.database().ref("block/").on("value",(function(e){var t=e.val();W(t.i)})),O.a.database().ref("counter/").on("value",(function(e){var t=e.val();B(t.i)}))}))}),[H]);return Object(l.jsxs)("div",{className:d.root,children:[Object(l.jsx)("p",{style:{position:"absolute",top:"50px"},children:"version: 1.02"}),c?Object(l.jsxs)(l.Fragment,{children:[" ",a&&!0===a.admin&&Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{className:"main-menu",children:"\u041c\u0435\u043d\u044e"}),Object(l.jsxs)("select",{className:"today-day",onChange:function(e){var t;L(e.target.value),t=e.target.value,O.a.database().ref("/day").update({i:t})},name:"select",value:H,children:[Object(l.jsx)("option",{value:"monday",children:"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a"}),Object(l.jsx)("option",{value:"tuesday",children:"\u0412\u0442\u043e\u0440\u043d\u0438\u043a"}),Object(l.jsx)("option",{value:"wednesday",children:"\u0421\u0440\u0435\u0434\u0430"}),Object(l.jsx)("option",{value:"thursday",children:"\u0427\u0435\u0442\u0432\u0435\u0440\u0433"}),Object(l.jsx)("option",{value:"friday",children:"\u041f\u044f\u0442\u043d\u0438\u0446\u0430"})]})]}),Object(l.jsx)(D,{isOpen:i,setIsOpen:r,selected:A,selectedPrice:N,setSelected:C,setPriceArr:Y,user:t,data:a,counter:I}),Object(l.jsxs)(se.a,{className:d.paper,children:[Object(l.jsx)(kt,{numSelected:A.length,block:z}),Object(l.jsx)(oe.a,{children:Object(l.jsxs)(le.a,{className:d.table,"aria-labelledby":"tableTitle",size:"small","aria-label":"enhanced table",children:[Object(l.jsx)(vt,{classes:d,numSelected:A.length,order:b,orderBy:m,onSelectAllClick:function(e){if(e.target.checked){var t=V.map((function(e){return e.name})),a=V.map((function(e){return e.price}));return C(t),void Y(a)}C([])},onRequestSort:function(e,t){p(m===t&&"asc"===b?"desc":"asc"),g(t)},rowCount:V.length}),Object(l.jsx)(de.a,{children:mt(V,Ot(b,m)).map((function(e,t){var a=function(e){return-1!==A.indexOf(e)}(e.name),n="enhanced-table-checkbox-".concat(t);return Object(l.jsxs)(ce.a,{className:"choise",hover:!0,onClick:function(t){return function(e,t,a){var n=A.indexOf(t),c=[],i=[];-1===n?(c=c.concat(A,t),i=i.concat(N,a)):0===n?(c=c.concat(A.slice(1)),i=i.concat(N.slice(1))):n===A.length-1?(c=c.concat(A.slice(0,-1)),i=i.concat(N.slice(0,-1))):n>0&&(c=c.concat(A.slice(0,n),A.slice(n+1)),i=i.concat(N.slice(0,n),N.slice(n+1))),C(c),Y(i)}(0,e.name,e.price)},role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(l.jsx)(ie.a,{padding:"checkbox",children:Object(l.jsx)(k.a,{checked:a,inputProps:{"aria-labelledby":n}})}),Object(l.jsx)(ie.a,{className:d.align,component:"th",id:n,scope:"row",padding:"none",children:Object(l.jsx)("div",{className:d.dishName,children:e.name})}),Object(l.jsx)(ie.a,{className:d.align,children:e.gr}),Object(l.jsx)(ie.a,{className:d.align,children:e.cal}),Object(l.jsx)(ie.a,{className:d.align,children:e.price})]},e.name)}))})]})})]}),z?Object(l.jsx)(f.a,{style:i||o?{backgroundColor:"#CA748B",marginBottom:"50px"}:{backgroundColor:"#94C571",marginBottom:"50px"},onClick:function(){z&&r(!0)},variant:"contained",color:"primary",children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"}):Object(l.jsx)(f.a,{variant:"contained",disabled:!0,children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"})]}):Object(l.jsx)(T,{})]})},wt=a(144),St=(a(206),a(207),function(){var e=Object(n.useState)(),t=Object(s.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(),r=Object(s.a)(i,2),o=r[0],d=r[1],j=Object(n.useState)(),u=Object(s.a)(j,2),b=u[0],p=u[1],h=Object(n.useState)(),f=Object(s.a)(h,2),x=f[0],m=f[1],v=Object(n.useState)([{startDate:new Date,endDate:null,key:"selection"}]),y=Object(s.a)(v,2),k=y[0],A=y[1];return Object(n.useEffect)((function(){O.a.database().ref("/orders/history/").on("value",(function(e){var t=e.val(),a=[];t&&Object.keys(t).map((function(e,n){return Object.keys(t[e]).map((function(n,c){return"grech"===t[e][n].office&&a.push(t[e][n]),t[e][n].selectedPrice})),t[e]}));var n=a.filter((function(e){return g()(e.date,"YYYY-MM-DD").isBetween(g()(k[0].startDate).subtract(1,"day").format("YYYY-MM-DD"),g()(k[0].endDate).add(1,"day").format("YYYY-MM-DD"))})).reduce((function(e,t){return e+t.selectedPrice}),0);c(n);var i=[];t&&Object.keys(t).map((function(e,a){return Object.keys(t[e]).map((function(a,n){return"alex"===t[e][a].office&&i.push(t[e][a]),t[e][a].selectedPrice})),t[e]}));var r=null===i||void 0===i?void 0:i.filter((function(e){return g()(e.date,"YYYY-MM-DD").isBetween(g()(k[0].startDate).subtract(1,"day").format("YYYY-MM-DD"),g()(k[0].endDate).add(1,"day").format("YYYY-MM-DD"))})).reduce((function(e,t){return e+t.selectedPrice}),0);d(r);var s=[];t&&Object.keys(t).map((function(e,a){return Object.keys(t[e]).map((function(a,n){return"cheh"===t[e][a].office&&s.push(t[e][a]),t[e][a]})),t[e]}));var o=null===s||void 0===s?void 0:s.filter((function(e){return g()(e.date,"YYYY-MM-DD").isBetween(g()(k[0].startDate).subtract(1,"day").format("YYYY-MM-DD"),g()(k[0].endDate).add(1,"day").format("YYYY-MM-DD"))})).reduce((function(e,t){return e+t.selectedPrice}),0);p(o);var l=[];t&&Object.keys(t).map((function(e,a){return Object.keys(t[e]).map((function(a,n){return"petr"===t[e][a].office&&l.push(t[e][a]),t[e][a]})),t[e]}));var j=null===l||void 0===l?void 0:l.filter((function(e){return g()(e.date,"YYYY-MM-DD").isBetween(g()(k[0].startDate).subtract(1,"day").format("YYYY-MM-DD"),g()(k[0].endDate).add(1,"day").format("YYYY-MM-DD"))})).reduce((function(e,t){return e+t.selectedPrice}),0);m(j)}))}),[k,a]),Object(l.jsxs)("div",{style:{height:"1000px"},children:[Object(l.jsx)("div",{style:{marginTop:"15%"},children:Object(l.jsx)(wt.DateRange,{editableDateInputs:!0,onChange:function(e){return A([e.selection])},moveRangeOnFirstSelection:!1,ranges:k})}),Object(l.jsxs)("div",{style:{marginTop:0},children:[Object(l.jsx)("h2",{style:{marginTop:0},children:"\u0413\u0440\u0435\u0447\u0435\u0441\u043a\u0430\u044f"}),Object(l.jsxs)("p",{children:[a," \u0440\u0443\u0431."]}),Object(l.jsx)("h2",{style:{marginTop:0},children:"\u041f\u0435\u0442\u0440\u043e\u0432\u0441\u043a\u0430\u044f"}),Object(l.jsxs)("p",{children:[x," \u0440\u0443\u0431."]}),Object(l.jsx)("h2",{style:{marginTop:0},children:"\u0427\u0435\u0445\u043e\u0432\u0430"}),Object(l.jsxs)("p",{children:[b," \u0440\u0443\u0431."]}),Object(l.jsx)("h2",{style:{marginTop:0},children:"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u043e\u0432\u0441\u043a\u0430\u044f"}),Object(l.jsxs)("p",{children:[o," \u0440\u0443\u0431."]})]})]})}),Nt=a(211),Dt=a(101),Yt=a.n(Dt);function Pt(e){var t=e.isBar,a=e.setIsBar,n=Object(Q.g)(),i=function(e,t){"clickaway"!==t&&(n.push("/"),a(!1))};return Object(l.jsx)("div",{children:Object(l.jsx)(y.a,{anchorOrigin:{vertical:"top",horizontal:"top"},open:t,autoHideDuration:3e3,onClose:i,message:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0431\u0440\u043e\u0441 \u043f\u0430\u0440\u043e\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0432\u0430\u043c\u0438 \u0430\u0434\u0440\u0435\u0441, \u043d\u0435 \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u0442\u0435",action:Object(l.jsx)(c.a.Fragment,{children:Object(l.jsx)(Nt.a,{size:"small","aria-label":"close",color:"inherit",onClick:i,children:Object(l.jsx)(Yt.a,{fontSize:"small"})})})})})}function Mt(e){var t=e.isErr,a=e.setIsErr,n=function(e,t){"clickaway"!==t&&a(!1)};return Object(l.jsx)("div",{children:Object(l.jsx)(y.a,{anchorOrigin:{vertical:"top",horizontal:"top"},open:t,autoHideDuration:3e3,onClose:n,message:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 email \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d \u0430\u043a\u043a\u0430\u0443\u043d\u0442",action:Object(l.jsx)(c.a.Fragment,{children:Object(l.jsx)(Nt.a,{size:"small","aria-label":"close",color:"inherit",onClick:n,children:Object(l.jsx)(Yt.a,{fontSize:"small"})})})})})}var It=Object(h.a)((function(e){return{paper:{position:"absolute",width:"40%",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),transform:"translate(-50%, -50%)",top:"50%",left:"50%"}}})),Tt=function(){var e=It(),t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(!1),o=Object(s.a)(r,2),d=o[0],j=o[1],u=Object(n.useState)(!1),b=Object(s.a)(u,2),p=b[0],h=b[1];return Object(l.jsxs)("div",{className:e.paper,children:[Object(l.jsx)(Pt,{isBar:d,setIsBar:j}),Object(l.jsx)(Mt,{isErr:p,setIsErr:h}),Object(l.jsxs)("form",{style:{display:"flex",flexDirection:"column",alignItems:"center"},className:"form",children:[Object(l.jsx)(V,{labelText:"Email",value:c,id:"email",formControlProps:{fullWidth:!0},handleChange:function(e){return i(e.target.value)},type:"text"}),Object(l.jsx)(f.a,{onClick:function(){O.a.auth().sendPasswordResetEmail(c).then((function(){i(""),j(!0)})).catch((function(e){h(!0)}))},type:"button",color:"primary",children:"Reset Passowrd"})]})]})};lt.a.propTypes={width:st.a.oneOf(["lg","md","sm","xl","xs"]).isRequired};var Bt=Object(lt.a)()((function(){var e=Object(n.useState)(),t=Object(s.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(),r=Object(s.a)(i,2),j=r[0],u=r[1],b=Object(n.useState)(!1),p=Object(s.a)(b,2),h=p[0],f=p[1],x=Object(n.useState)(!1),m=Object(s.a)(x,2),g=m[0],v=m[1],y=Object(n.useState)(!1),k=Object(s.a)(y,2),A=k[0],C=k[1],w=Object(n.useState)(!1),S=Object(s.a)(w,2),N=S[0],D=S[1];return Object(n.useEffect)((function(){return X.onAuthStateChanged((function(e){var t={uid:e.uid,email:e.email};e?(c(t),O.a.database().ref("users/".concat(t.uid)).on("value",(function(e){var t=e.val();u(t),function(e){e&&f(!0)}(t)}))):c(null)}))}),[]),Object(l.jsxs)("div",{children:[Object(l.jsx)(Xe.Online,{children:Object(l.jsx)(o.a,{children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(d,{user:a,data:j,isOpen:g,open:A}),Object(l.jsxs)(Q.d,{children:[a&&Object(l.jsx)(Q.b,{path:"/orders-history",children:Object(l.jsx)(Ue,{user:a,data:j,paid:N,setPaid:D})}),j&&!0===j.admin&&Object(l.jsx)(Q.b,{path:"/users",children:Object(l.jsx)(Ge,{user:a,data:j})}),j&&!0===j.admin&&Object(l.jsx)(Q.b,{path:"/user-history",children:Object(l.jsx)(Ve,{})}),j&&!0===j.admin&&Object(l.jsx)(Q.b,{path:"/orders",children:Object(l.jsx)(Ye,{user:a,data:j})}),j&&!0===j.admin&&Object(l.jsx)(Q.b,{path:"/costs",children:Object(l.jsx)(St,{user:a,data:j})}),a?Object(l.jsxs)(Q.b,{exact:!0,path:"/",children:[Object(l.jsx)(ot.a,{smUp:!0,children:Object(l.jsx)(E,{user:a,data:j,isData:h,setIsOpen:v,isOpen:g,open:A,setOpen:C})}),Object(l.jsx)(ot.a,{xsDown:!0,children:Object(l.jsx)(Ct,{user:a,data:j,isData:h,setIsOpen:v,isOpen:g,open:A,setOpen:C})})]}):Object(l.jsx)(Q.b,{exact:!0,path:"/",children:Object(l.jsx)(_,{})}),j&&!0===j.admin&&Object(l.jsx)(Q.b,{path:"/admin-menu",children:Object(l.jsx)(De,{user:a,data:j})}),a&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Q.a,{from:"/login",to:"/"}),Object(l.jsx)(Q.a,{from:"/reg",to:"/"})]}),j&&!0!==j.admin&&Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(Q.a,{from:"/admin-menu",to:"/"})}),Object(l.jsx)(Q.b,{path:"/login",component:_}),Object(l.jsx)(Q.b,{path:"/reg",component:te}),Object(l.jsx)(Q.b,{path:"/forgotPassword",component:Tt})]}),Object(l.jsx)(ct,{user:a,data:j,isOpen:g,setIsOpen:v,open:A,setOpen:C})]})})}),Object(l.jsx)(Xe.Offline,{children:Object(l.jsx)("img",{src:it,alt:"Not Internet Connection"})})]})})),Et=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ft(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&(e.waiting.postMessage({type:"SKIP_WAITING"}),t.onUpdate(e))):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var zt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,277)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))},Wt=a(145),Rt=a(74),Ut={id:"",data:""},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return Object(p.a)(Object(p.a)({},e),{},{id:t.payload});case Je:return Object(p.a)(Object(p.a)({},e),{},{data:t.payload});default:return e}},Lt=Object(Rt.combineReducers)({main:Ht,data:Ht}),Jt=a(146),Kt=Object(Rt.createStore)(Lt,Object(Jt.composeWithDevTools)(Object(Rt.applyMiddleware)(Wt.a)));r.a.render(Object(l.jsx)(He.a,{store:Kt,children:Object(l.jsx)(Bt,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Et?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ft(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Ft(t,e)}))}}(),zt()}},[[208,1,2]]]);
//# sourceMappingURL=main.12326921.chunk.js.map